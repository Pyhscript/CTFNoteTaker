CREATE TABLE ctf(
ctfID INTEGER PRIMARY KEY AUTOINCREMENT,
name TEXT NOT NULL);


CREATE TABLE challenges(
challengeID INTEGER PRIMARY KEY AUTOINCREMENT,
title TEXT NOT NULL,
problemtext TEXT,
ctfID INT NOT NULL,
FOREIGN KEY(ctfID) REFERENCES ctf(ctfID)
ON DELETE CASCADE);

CREATE TABLE note(
noteID INTEGER PRIMARY KEY AUTOINCREMENT,
contributor TEXT NOT NULL,
note TEXT NOT NULL,
timestamp INTEGER(4) NOT NULL DEFAULT (strftime('%s','now')),
challengeID INT NOT NULL,
FOREIGN KEY(challengeID) REFERENCES challenge(challengeID)
ON DELETE CASCADE);

CREATE TABLE users(
uid INTEGER PRIMARY KEY AUTOINCREMENT,
user TEXT NOT NULL,
state TEXT,
lastLogout INTEGER(4));

